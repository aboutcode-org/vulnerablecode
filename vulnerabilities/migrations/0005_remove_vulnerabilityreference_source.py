# Generated by Django 3.0.14 on 2021-04-26 06:57

import django.contrib.postgres.fields.jsonb
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("vulnerabilities", "0004_remove_packagerelatedvulnerability_is_vulnerable"),
    ]

    operations = [
        migrations.AddField(
            model_name="package",
            name="resolved_vulnerabilities",
            field=models.ManyToManyField(
                related_name="patched_packages",
                through="vulnerabilities.PackageRelatedVulnerability",
                to="vulnerabilities.Vulnerability",
            ),
        ),
        migrations.AlterField(
            model_name="package",
            name="qualifiers",
            field=django.contrib.postgres.fields.jsonb.JSONField(
                blank=True,
                default=dict,
                help_text="Extra qualifying data for a package such as the name of an OS, architecture, distro, etc.",
            ),
        ),
        migrations.AlterField(
            model_name="package",
            name="vulnerabilities",
            field=models.ManyToManyField(
                related_name="vulnerable_packages",
                through="vulnerabilities.PackageRelatedVulnerability",
                to="vulnerabilities.Vulnerability",
            ),
        ),
        migrations.AlterField(
            model_name="vulnerability",
            name="old_vulnerability_id",
            field=models.CharField(
                blank=True,
                help_text="empty if no  CVE else VC id",
                max_length=50,
                null=True,
                unique=True,
            ),
        ),
        migrations.AlterUniqueTogether(
            name="vulnerabilityreference",
            unique_together={("vulnerability", "reference_id", "url")},
        ),
        migrations.RemoveField(
            model_name="vulnerabilityreference",
            name="source",
        ),
    ]
