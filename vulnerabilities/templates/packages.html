{% extends 'base.html' %} 
{% block title %} 
Explore/Curate Vulnerable packages
{% endblock %}
{% block content %}

<section class="columns  has-text-centered">  
    <div class = "column is-one-quarter">
    </div>
    <form action="{% url 'package_search' %}" method="get">
      <div class="field is-horizontal">
        {% load widget_tweaks %}
      {{form.name|add_class:"input"}} {{form.namespace|add_class:"input"}} {{form.type|add_class:"input"}} {{form.version|add_class:"input"}}
      <button class="button is-success" , type="submit">
        Search
      </button>
    </form>
  </div>
</section>

{% if packages %}
<section class="section is-medium  has-text-centered">
  <div class="container">
    <h1 class="title">Results of your query</h1>
    <h3 class="subtitle">Total Results {{packages|length}}</h3>
  </div>
</section>

<section class="section has-background-dark">
  <div class="content is-medium">
    <table
      class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth"
    >
      <tr>
        <th>Packages</th>
        <th>Patched Vulnerabilities</th>
        <th>Vulnerabilities</th>
      </tr>
      {% for package in packages %}
      <tr>
        <td><a href="{% url 'package_view' package.pk %}">{{package}}</a></td>
        <td>{{package.resolvedpackage_set.all|length}}</td>
        <td>{{package.impactedpackage_set.all|length}}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
</section>

{% endif %} {% endblock %} {% block javascript %}

<script></script>

{% endblock %}
